# ๐ LemoTunnel Manager

ฺฉ ุงุณฺฉุฑูพุช ูุฏุฑุช ุญุฑููโุง ุจุฑุง ุฑุงูโุงูุฏุงุฒ ู ูุงูุชูุฑูฺฏ ุชููู WebSocket ุจุง ุงุณุชูุงุฏู ุงุฒ wstunnel ู systemd.

---

## โจ ูุนุฑู

LemoTunnel Manager ฺฉ ุงุจุฒุงุฑ ุชุนุงูู (Interactive CLI) ุจุฑุง ูุตุจุ ูพฺฉุฑุจูุฏ ู ูุฏุฑุช wstunnel ุฏุฑ ุฏู ููุด ูุฎุชูู ุงุณุช:

* ๐ ุณุฑูุฑ ุฎุงุฑุฌ (Remote Server)
* ๐ฎ๐ท ุณุฑูุฑ ุงุฑุงู (Client)

ุงู ุงุจุฒุงุฑ ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ ุจูโุณุงุฏฺฏ ฺฉ ุชููู ูพุงุฏุงุฑ ุจุฑุง ุงูุชูุงู ุชุฑุงูฺฉ TCP ู UDP (ูุซูุงู WireGuard) ุฑู ุจุณุชุฑ WebSocket ุงุฌุงุฏ ฺฉูุฏ.

---

## ๐ง ูุนูุงุฑ ฺฉู

```
[ Client - Iran ]  โ  WebSocket  โ  [ Server - Outside ]
      โ                                      โ
  Local Port                            Local Destination
 (ูุซูุงู 51820)                           (ูุซูุงู 51820)
```

* ุงุฑุชุจุงุท ุจู ุฏู ุณุฑูุฑ ุงุฒ ุทุฑู WebSocket ุจุฑูุฑุงุฑ ูโุดูุฏ.
* ุฑู ุณุฑูุฑ ุฎุงุฑุฌุ wstunnel ุฏุฑ ุญุงูุช server ุงุฌุฑุง ูโุดูุฏ.
* ุฑู ุณุฑูุฑ ุงุฑุงูุ wstunnel ุฏุฑ ุญุงูุช client ุงุฌุฑุง ูโุดูุฏ.
* ุงุฒ systemd ุจุฑุง ุงุฌุฑุง ุฏุงุฆู ู ูพุงุฏุงุฑ ุงุณุชูุงุฏู ุดุฏู ุงุณุช.

---

## ๐ฆ ูพุดโูุงุฒูุง

* ุณุณุชูโุนุงูู: Ubuntu / Debian
* ุฏุณุชุฑุณ root
* ุฏุณุชุฑุณ ุงูุชุฑูุช ุจุฑุง ุฏุฑุงูุช ุขุฎุฑู ูุณุฎู wstunnel

ูฺฉุชู: ุงุณฺฉุฑูพุช ุจูโุตูุฑุช ุฎูุฏฺฉุงุฑ ุงุจุฒุงุฑูุง ุฒุฑ ุฑุง ูุตุจ ูโฺฉูุฏ:

* curl
* wget
* jq
* gzip
* unzip
* netcat-openbsd
* psmisc

---

## โ๏ธ ูุตุจ ู ุงุฌุฑุง

ุจุฑุง ุงุณุชูุงุฏู ุงุฒ LemoTunnel ุฏู ุฑูุด ุฏุงุฑุฏ:

---

### ๐ ุฑูุด ูพุดููุงุฏ (Recommended - ูุตุจ ุชฺฉโุฎุท)

ุณุฑุนโุชุฑู ู ุณุงุฏูโุชุฑู ุฑูุด ุงุฌุฑุง:

```
bash <(curl -fsSL https://raw.githubusercontent.com/radiolemonatic/lemotunnel-manager/refs/heads/main/lemotunnel.sh)
```

ุงู ุฏุณุชูุฑ:

* ุขุฎุฑู ูุณุฎู ุงุณฺฉุฑูพุช ุฑุง ูุณุชูู ุงุฒ GitHub ุฏุฑุงูุช ูโฺฉูุฏ
* ุจุฏูู ูุงุฒ ุจู ฺฉููู ฺฉุฑุฏู ุฑูพู ุงุฌุฑุง ูโุดูุฏ
* ููุงุณุจ ุจุฑุง ุฏูพูู ุณุฑุน ุฑู ุณุฑูุฑ ุชุงุฒู

๐ ูพุดููุงุฏ ูโุดูุฏ ูุจู ุงุฒ ุงุฌุฑุงุ ุงุณฺฉุฑูพุช ุฑุง ุจุฑุฑุณ ฺฉูุฏ ุชุง ุงุฒ ุตุญุช ุขู ูุทูุฆู ุดูุฏ.

---

### ๐๏ธ ุฑูุด ุฏุณุช (Clone ุงุฒ Git)

ุงฺฏุฑ ูโุฎูุงูุฏ ุณูุฑุณ ุฑุง ูฺฏู ุฏุงุฑุฏ ุง ูุฑุงุด ฺฉูุฏ:

```
git clone https://github.com/radiolemonatic/lemotunnel-manager.git
cd lemotunnel-manager
chmod +x lemotunnel.sh
sudo ./lemotunnel.sh
```

ุงู ุฑูุด ุจุฑุง ุชูุณุนูโุฏููุฏูโูุง ุง ฺฉุณุงู ฺฉู ูโุฎูุงููุฏ ุชุบุฑุงุช ุดุฎุต ุงุนูุงู ฺฉููุฏ ููุงุณุจโุชุฑ ุงุณุช.

---

## ๐๏ธ ฺฏุฒููโูุง ููู

### 1๏ธโฃ Install Requirements & WSTunnel

* ูุตุจ ูุงุจุณุชฺฏโูุง
* ุฏุฑุงูุช ุขุฎุฑู ูุณุฎู wstunnel ุงุฒ GitHub
* ูุตุจ ุฏุฑ ูุณุฑ:

```
/usr/local/bin/wstunnel
```

---

### 2๏ธโฃ Setup Remote Server (Outside)

ุงู ฺฏุฒูู ุฑุง ุฑู ุณุฑูุฑ ุฎุงุฑุฌ ุงุฌุฑุง ฺฉูุฏ.

ุฏู ุญุงูุช ุณุฑูุฑ ุฏุฑ ุฏุณุชุฑุณ ุงุณุช:

#### ๐น ุญุงูุช Port Forward
ุจุฑุง ููุฑูุงุฑุฏ ฺฉุฑุฏู ฺฉ ูพูุฑุช ุฎุงุต (ูุซู WireGuardุ SSH)

ุงุฒ ุดูุง ูพุฑุณุฏู ูโุดูุฏ:

* WebSocket Port (ูุซูุงู 8080)
* Destination Port (ูุซูุงู 51820 ุจุฑุง WireGuard)

#### ๐น ุญุงูุช SOCKS5 Server
ุจุฑุง ุงุณุชูุงุฏู ุจุง ฺฉูุงูุช SOCKS5 - ุจุฏูู ูุญุฏูุฏุช ูพูุฑุช

ุงุฒ ุดูุง ูพุฑุณุฏู ูโุดูุฏ:

* WebSocket Port (ูุซูุงู 8080)

โ๏ธ ุชูุฌู: ุจุฑุง ุงุณุชูุงุฏู ุงุฒ SOCKS5ุ ุญุชูุงู ุณุฑูุฑ ุฑุง ุฏุฑ ุญุงูุช "SOCKS5 Server" ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ.

ุณูพุณ ุณุฑูุณ ุฒุฑ ุณุงุฎุชู ูโุดูุฏ:

```
/etc/systemd/system/lemo-[name].service
```

ู ุจูโุตูุฑุช ุฎูุฏฺฉุงุฑ ูุนุงู ู ุงุฌุฑุง ูโุดูุฏ.

---

### 3๏ธโฃ Setup Iran Server (Client)

ุงู ฺฏุฒูู ุฑุง ุฑู ุณุฑูุฑ ุงุฑุงู ุงุฌุฑุง ฺฉูุฏ.

ุฏู ุญุงูุช ุชููู ุฏุฑ ุฏุณุชุฑุณ ุงุณุช:

#### ๐น ุญุงูุช Port Forward (TCP/UDP)
ุจุฑุง ููุฑูุงุฑุฏ ฺฉุฑุฏู ูพูุฑุชโูุง ุฎุงุต (ูุซู WireGuardุ SSH ู...)

ุงุฒ ุดูุง ูพุฑุณุฏู ูโุดูุฏ:

* IP ุณุฑูุฑ ุฎุงุฑุฌ
* WebSocket Port
* Local Bind Port
* Destination Port ุฑู ุณุฑูุฑ ุฎุงุฑุฌ
* Protocol (TCP - UDP - Both)

### ๐น ุญุงูุช SOCKS5 Proxy
ุจุฑุง ุงุณุชูุงุฏู ุจูโุนููุงู ูพุฑูฺฉุณ SOCKS5 (ููุงุณุจ ุจุฑุง ูุฑูุฑฺฏุฑุ curl ู...)

ุงุฒ ุดูุง ูพุฑุณุฏู ูโุดูุฏ:

* IP ุณุฑูุฑ ุฎุงุฑุฌ
* WebSocket Port
* SOCKS5 Port (ูพูุฑุช ฺฉู ูพุฑูฺฉุณ ุฑู ุขู ฺฏูุด ูโุฏูุฏ)
* ุงุญุฑุงุฒ ููุช (ุงุฎุชุงุฑ): Username ู Password

ุณูพุณ ุณุฑูุณ ุฒุฑ ุณุงุฎุชู ูโุดูุฏ:

```
/etc/systemd/system/lemo-[name].service
```

ููููู ุงุณุชูุงุฏู ุงุฒ SOCKS5:

```bash
# ุจุง curl
curl -x socks5h://127.0.0.1:1080 https://google.com

# ุจุง Firefox
# ุฏุฑ ุชูุธูุงุช Network โ Manual proxy configuration
# SOCKS Host: 127.0.0.1
# Port: 1080
# SOCKS v5
# โ Proxy DNS when using SOCKS v5
```

#### ๐งช ุชุณุช ูพุฑูฺฉุณ
ุฏุฑ ููู ูุฏุฑุช ุชุงููุ ฺฏุฒูู "Test Proxy" ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ ุชุง:
* ุงุทูุงุนุงุช IP ู ูููุนุช ุฌุบุฑุงูุง ููุงุด ุฏุงุฏู ุดูุฏ
* ฺฉุดูุฑ ุจุง ุงููุฌ ูพุฑฺู ููุงุด ุฏุงุฏู ุดูุฏ
* ูพูฺฏ (latency) ุงูุฏุงุฒูโฺฏุฑ ุดูุฏ
* ูุถุนุช ุงุชุตุงู ุจุฑุฑุณ ุดูุฏ

---

### 4๏ธโฃ ๐ก Live Connection Test

ุฏู ุญุงูุช ุฏุงุฑุฏ:

* Server Mode โ ฺฏูุด ุฏุงุฏู ุจู ูพฺฉุชโูุง
* Client Mode โ ุงุฑุณุงู ูพฺฉุช ุชุณุช

ุจุฑุง ุจุฑุฑุณ ุณูุงูุช ุชููู ุจุฏูู ูุงุฒ ุจู ุงุจุฒุงุฑ ุงุถุงู.

---

### 5๏ธโฃ โ๏ธ Manage Tunnels

* ุฑุณุชุงุฑุช ุณุฑูุฑ
* ุฑุณุชุงุฑุช ฺฉูุงูุช
* ุชููู ฺฉุงูู ููู ุณุฑูุณโูุง

---

### 6๏ธโฃ ๐ View Logs

ูุดุงูุฏู 50 ูุงฺฏ ุขุฎุฑ ุงุฒ ุทุฑู journalctl ุจุฑุง:

* wstunnel-server
* wstunnel-client

---

### 7๏ธโฃ ๐๏ธ Uninstall Completely

* ุญุฐู ุณุฑูุณโูุง
* ุญุฐู ุจุงูุฑ
* ูพุงฺฉโุณุงุฒ ฺฉุงูู systemd

---

## ๐ ููููู ุณูุงุฑููุง

### ๐น ุณูุงุฑู 1: WireGuard Tunnel

ุฑู ุณุฑูุฑ ุฎุงุฑุฌ:

* WireGuard ุฑู ูพูุฑุช 51820
* wstunnel server ุฑู ูพูุฑุช 8080

ุฑู ุณุฑูุฑ ุงุฑุงู:

* ุญุงูุช: Port Forward
* Bind ุฑู 51820
* ุงุชุตุงู ุจู ws://REMOTE_IP:8080

ุฏุฑ ุชูุธูุงุช WireGuard ฺฉูุงูุชุ ุขโูพ ุณุฑูุฑ ุงุฑุงู ุฑุง ูุฑุงุฑ ุฏูุฏ.

---

### ๐น ุณูุงุฑู 2: SOCKS5 Proxy ุจุฑุง ูุฑูุฑ ุงูุชุฑูุช

ุฑู ุณุฑูุฑ ุฎุงุฑุฌ:

* wstunnel server ุฑู ูพูุฑุช 8080
* ุจุฏูู ูุญุฏูุฏุช ูพูุฑุช (ุง restrict-to ุญุฐู ุดูุฏ)

ุฑู ุณุฑูุฑ ุงุฑุงู:

* ุญุงูุช: SOCKS5 Proxy
* SOCKS5 Port: 1080
* ุงุชุตุงู ุจู ws://REMOTE_IP:8080

ุงุณุชูุงุฏู ุฏุฑ ูุฑูุฑฺฏุฑ ุง ุจุฑูุงููโูุง:

```bash
# Firefox: Settings โ Network โ Manual proxy
# SOCKS Host: 127.0.0.1, Port: 1080, SOCKS v5
# โ Proxy DNS when using SOCKS v5

# curl
curl -x socks5h://127.0.0.1:1080 https://google.com

# SSH
ssh -o ProxyCommand="nc -X 5 -x 127.0.0.1:1080 %h %p" user@target
```

---

## ๐ ุจุฑุฑุณ ูุถุนุช ุณุณุชู

ุฏุฑ ุจุงูุง ููู ููุดู ูุถุนุช ููุงุด ุฏุงุฏู ูโุดูุฏ:

* ูุตุจ ุจูุฏู ูุณุชู
* ูุถุนุช ููุฏ ุงุฑุงู
* ูุถุนุช ููุฏ ุฎุงุฑุฌ
* ุจุฑุฑุณ Reachability ูพูุฑุช ุฑููุช

---

## ๐งฉ ูฺฉุงุช ููู

* ูพูุฑุช WebSocket ุจุงุฏ ุฑู ุณุฑูุฑ ุฎุงุฑุฌ ุฏุฑ ูุงุฑูุงู ุจุงุฒ ุจุงุดุฏ.
* ุงฺฏุฑ ุงุฒ Cloudflare ุงุณุชูุงุฏู ูโฺฉูุฏุ ูพูุฑุช ุจุงุฏ ุฏุฑ ูุณุช ูพูุฑุชโูุง ูุฌุงุฒ ุจุงุดุฏ.
* ุจุฑุง ุงููุช ุจุดุชุฑ ูโุชูุงูุฏ ุงุฒ reverse proxy ู TLS ุงุณุชูุงุฏู ฺฉูุฏ.

---

## ๐งช ุชุณุช ุฏุณุช ุงุชุตุงู

ุฑู ุณุฑูุฑ ุงุฑุงู:

```
nc 127.0.0.1 PORT
```

ุฑู ุณุฑูุฑ ุฎุงุฑุฌ:

```
nc -l -p DEST_PORT -s 127.0.0.1
```

ุงฺฏุฑ ูพุงู ุฏุฑุงูุช ุดุฏุ ุชููู ุณุงูู ุงุณุช.

---

## ๐ง ุนุจโุงุจ (Troubleshooting)

### โ ูุดฺฉู: SOCKS5 ฺฉุงุฑ ููโฺฉูุฏ - ุฎุทุง "Invalid status code: 400"

ุนูุช: ุณุฑูุฑ ุจุง `--restrict-to` ูุญุฏูุฏ ุดุฏู ู ุงุชุตุงูุงุช SOCKS5 ุฑู ุฑุฏ ูโฺฉูู.

ุญู:
1. ุฑู ุณุฑูุฑ ุฎุงุฑุฌุ ุชููู ุฑู ุญุฐู ฺฉู ุง ูุฑุงุด ฺฉู
2. ุชููู ุฌุฏุฏ ุจุณุงุฒ ู ุฏุฑ ูุณูุช "Server Mode" ฺฏุฒูู "SOCKS5 Server (No restrictions)" ุฑู ุงูุชุฎุงุจ ฺฉู
3. ุง ุจู ุตูุฑุช ุฏุณุช ูุงู ุณุฑูุณ ุฑู ูุฑุงุด ฺฉู ู `--restrict-to` ุฑู ุญุฐู ฺฉู

### โ ูุดฺฉู: "Rejecting connection with not allowed destination"

ุงู ูพุงู ุฏุฑ ูุงฺฏ ุณุฑูุฑ ูุดูู ูโุฏู ฺฉู ุณุฑูุฑ ูุญุฏูุฏ ุจู ฺฉ ูพูุฑุช ุฎุงุตู ูู ฺฉูุงูุช ุฏุงุฑู ุณุน ูโฺฉูู ุจู ูพูุฑุช ุฏฺฏูโุง ูุตู ุจุดู.

ุญู: ูุทูุฆู ุดู ฺฉู:
- ุจุฑุง SOCKS5: ุณุฑูุฑ ุจุฏูู `--restrict-to` ุฑุงูโุงูุฏุงุฒ ุดุฏู
- ุจุฑุง Port Forward: ูพูุฑุช destination ุฏุฑ ุณุฑูุฑ ู ฺฉูุงูุช ฺฉุณุงู ุจุงุดู

### โ ุจุฑุฑุณ ูุงฺฏโูุง

```bash
# ูุงฺฏ ุณุฑูุฑ
journalctl -u lemo-[server-name] -f

# ูุงฺฏ ฺฉูุงูุช
journalctl -u lemo-[client-name] -f
```

---

## ๐ ูุณุฑ ูุงูโูุง

```
/usr/local/bin/wstunnel
/etc/systemd/system/wstunnel-server.service
/etc/systemd/system/wstunnel-client.service
```

---

## โค๏ธ ุญูุงุช ุงุฒ ูพุฑูฺู

ุงฺฏุฑ ุงู ูพุฑูฺู ุจุฑุง ุดูุง ููุฏ ุจูุฏู ู ุฏูุณุช ุฏุงุฑุฏ ุงุฒ ุชูุณุนู ุขู ุญูุงุช ฺฉูุฏุ ูโุชูุงูุฏ ุงุฒ ุทุฑู ฺฉุฑูพุชู ฺฉูฺฉ ูุงู ุงูุฌุงู ุฏูุฏ.

### ๐ฐ ุญูุงุช ุจุง ฺฉุฑูพุชู (NowPayments)


<a href="https://nowpayments.io/donation/lemotunnel" target="_blank" rel="noreferrer noopener">
  <img src="https://camo.githubusercontent.com/45881539210e2d27d0485c21266cde70c16e0a7770d1f64b05a559a25c25ddee/68747470733a2f2f6e6f777061796d656e74732e696f2f696d616765732f656d626564732f646f6e6174696f6e2d627574746f6e2d626c61636b2e737667" alt="Donate with Crypto via NOWPayments">
</a>


---

## โค๏ธ ุชูุณุนูโุฏููุฏู

ุณุงุฎุชูโุดุฏู ุจุฑุง ูุฏุฑุช ุณุฑุนุ ุชูุฒ ู ุญุฑููโุง ุชูููโูุง WebSocket.

---

## ๐ ูุงุณูุณ

ุงุณุชูุงุฏู ุขุฒุงุฏ.

---

โจ LemoTunnel โ ุณุงุฏูุ ุชูุฒุ ูพุงุฏุงุฑ.
